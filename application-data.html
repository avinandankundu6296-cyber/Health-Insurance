<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Application Data Capture | Health Insurance App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
      /* Dropdown styling */
      select {
        transition: all 0.3s ease;
        background: linear-gradient(to right, #ffffff, #ebf4ff);
      }
      select:hover {
        border-color: #2563eb;
      }
      select:focus {
        outline: none;
        transform: scale(1.02);
        box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.3);
        border-color: #2563eb;
      }

      /* Submenu button styles */
      .submenu-btn {
        position: relative;
        padding: 8px 18px;
        font-weight: 500;
        transition: all 0.3s ease;
        border-radius: 8px;
      }
      .submenu-btn:hover {
        background-color: white;
        color: #1d4ed8;
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 3px 10px rgba(255, 255, 255, 0.3);
      }
      .submenu-btn.active {
        background-color: white;
        color: #1d4ed8;
        font-weight: 600;
        box-shadow: 0 3px 10px rgba(255, 255, 255, 0.5);
      }
      .star {
        color: #dbeafe;
        font-size: 14px;
        margin: 0 10px;
        opacity: 0.7;
      }

      /* Proceed Button */
      .proceed-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background-color: #1d4ed8;
        color: white;
        font-weight: 600;
        border-radius: 10px;
        padding: 10px 28px;
        margin-top: 30px;
        transition: all 0.3s ease;
        box-shadow: 0 3px 10px rgba(29, 78, 216, 0.3);
      }
      .proceed-btn:hover {
        background-color: #2563eb;
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 4px 15px rgba(29, 78, 216, 0.4);
      }
    </style>
  </head>

  <body class="bg-blue-50 min-h-screen">
    <!-- Top Navbar -->
    <nav
      class="bg-blue-700 text-white p-4 flex justify-between items-center sticky top-0 shadow-md z-30"
    >
      <!-- Left -->
      <div>
        <h1 class="text-2xl font-bold leading-tight">
          Application Data Capture
        </h1>
        <p id="systemDate" class="text-sm text-white/90 font-medium mt-1"></p>
        <p class="text-xs text-blue-100 font-semibold mt-0.5">Version 1.0.0</p>
      </div>

      <!-- Right -->
      <div class="flex items-center space-x-5">
        <p id="welcomeUser" class="text-sm font-semibold text-white/90">
          Welcome, User
        </p>

        <button
          onclick="goBack()"
          class="flex items-center justify-center bg-white text-blue-700 p-2 rounded-full hover:bg-blue-100 transition"
          title="Go Back"
        >
          <i data-lucide="arrow-left" class="w-5 h-5"></i>
        </button>

        <div class="flex items-center space-x-2 relative dropdown-wrapper">
          <label for="roleSelect" class="font-semibold text-white text-sm"
            >Role:</label
          >
          <div class="relative">
            <select
              id="roleSelect"
              onchange="changeRole()"
              class="appearance-none text-blue-700 bg-white font-semibold px-4 py-1.5 pr-8 rounded-lg shadow-md border border-blue-200 cursor-pointer hover:border-blue-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-400 transition duration-200 text-sm"
            >
              <option value="COPS">COPS</option>
              <option value="BOPS">BOPS</option>
              <option value="HOADMIN">HOADMIN</option>
              <option value="UWR">UWR</option>
              <option value="COQC">COQC</option>
            </select>
            <i
              data-lucide="chevron-down"
              class="dropdown-arrow absolute right-2 top-1/2 -translate-y-1/2 text-blue-700 pointer-events-none w-4 h-4 transition-transform duration-300"
            ></i>
          </div>
        </div>

        <button
          onclick="logout()"
          class="flex items-center justify-center bg-white text-blue-700 p-2 rounded-full hover:bg-blue-100 transition"
          title="Logout"
        >
          <i data-lucide="log-out" class="w-5 h-5"></i>
        </button>
      </div>
    </nav>

    <!-- Submenu Navbar -->
    <nav
      class="bg-blue-600 text-white text-sm shadow-inner sticky top-[68px] z-20 overflow-x-auto"
    >
      <div
        class="flex justify-center items-center px-4 py-2 flex-wrap text-center"
      >
        <button class="submenu-btn">Search Entity</button
        ><span class="star">★</span> <button class="submenu-btn">Clone</button
        ><span class="star">★</span>
        <button class="submenu-btn">Quick Quote</button
        ><span class="star">★</span>
        <button class="submenu-btn">Archival Management</button
        ><span class="star">★</span>
        <button class="submenu-btn">Bulk Cancellation</button
        ><span class="star">★</span>
        <button class="submenu-btn active">Application Data Capture</button
        ><span class="star">★</span>
        <button class="submenu-btn">PPMC Dashboard</button
        ><span class="star">★</span>
        <button class="submenu-btn">File Upload</button
        ><span class="star">★</span>
        <button class="submenu-btn">Files View</button>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="p-10 flex justify-center">
      <div
        class="bg-white shadow-xl rounded-xl border border-blue-100 w-full max-w-3xl"
      >
        <!-- Blue Heading Bar -->
        <div
          class="bg-blue-700 text-white px-6 py-3 rounded-t-xl flex items-center justify-between shadow-sm"
        >
          <h2 class="text-lg font-semibold">Application Data Capture</h2>
        </div>

        <!-- Form Section -->
        <div class="p-8">
          <form id="adcForm" class="grid grid-cols-2 gap-6">
            <!-- Country -->
            <div>
              <label class="block text-blue-700 font-medium mb-1"
                >Country</label
              >
              <select
                id="country"
                class="w-full p-2 border border-blue-200 rounded-md focus:ring-2 focus:ring-blue-500"
              >
                <option value="">-- Select Country --</option>
                <option>India</option>
                <option>USA</option>
                <option>UK</option>
                <option>Australia</option>
              </select>
            </div>

            <!-- State -->
            <div>
              <label class="block text-blue-700 font-medium mb-1">State</label>
              <select
                id="state"
                class="w-full p-2 border border-blue-200 rounded-md focus:ring-2 focus:ring-blue-500"
              >
                <option value="">-- Select State --</option>
                <option>Maharashtra</option>
                <option>Karnataka</option>
                <option>Gujarat</option>
                <option>Delhi</option>
              </select>
            </div>

            <!-- LOB -->
            <div>
              <label class="block text-blue-700 font-medium mb-1">LOB</label>
              <select
                id="lob"
                class="w-full p-2 border border-blue-200 rounded-md focus:ring-2 focus:ring-blue-500"
              >
                <option value="">-- Select LOB --</option>
                <option>Health</option>
                <option>Life</option>
                <option>Motor</option>
              </select>
            </div>

            <div>
              <label class="block text-blue-700 font-medium mb-1"
                >Product</label
              >
              <select
                id="product"
                class="w-full p-2 border border-blue-200 rounded-md focus:ring-2 focus:ring-blue-500"
              >
                <option value="">-- Select Product --</option>
                <option value="MSH">MediShield</option>
                <option value="MSR">MediSure</option>
                <option value="MCR">MediCare</option>
                <option value="MPT">MediProtect</option>
                <option value="MGD">MediGuard</option>
              </select>
            </div>
          </form>

          <!-- Proceed Button -->
          <div class="text-center mt-8">
            <button
              onclick="proceedNext()"
              class="bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg shadow-md transition transform hover:bg-blue-800 hover:-translate-y-1 flex items-center justify-center mx-auto"
            >
              Proceed
              <i data-lucide="arrow-right" class="ml-2 w-5 h-5"></i>
            </button>
          </div>
        </div>
      </div>
    </main>

    <script>
      // --- Date ---
      function setSystemDate() {
        const now = new Date();
        const dd = String(now.getDate()).padStart(2, "0");
        const mm = String(now.getMonth() + 1).padStart(2, "0");
        const yyyy = now.getFullYear();
        document.getElementById(
          "systemDate"
        ).textContent = `System Date: ${dd}/${mm}/${yyyy}`;
      }
      setSystemDate();

      // --- Welcome ---
      document.addEventListener("DOMContentLoaded", () => {
        const user = localStorage.getItem("loggedInUser") || "User";
        document.getElementById("welcomeUser").textContent = `Welcome, ${user}`;
        const savedRole = localStorage.getItem("selectedRole") || "HOADMIN";
        document.getElementById("roleSelect").value = savedRole;
        lucide.createIcons();
      });

      // --- Navigation ---
      function goBack() {
        window.history.back();
      }
      function changeRole() {
        const role = document.getElementById("roleSelect").value;
        localStorage.setItem("selectedRole", role);
        window.location.href = "home.html";
      }
      function logout() {
        localStorage.clear();
        window.location.href = "index.html";
      }

      // --- Proceed Button Logic ---
      function proceedNext() {
        const country = document.getElementById("country").value;
        const state = document.getElementById("state").value;
        const lob = document.getElementById("lob").value;
        const productSelect = document.getElementById("product");
        const productCode = productSelect.value;
        const productName =
          productSelect.options[productSelect.selectedIndex].text;

        if (!country || !state || !lob || !productCode) {
          alert("Please select all fields before proceeding.");
          return;
        }

        // Save selections
        localStorage.setItem("country", country);
        localStorage.setItem("state", state);
        localStorage.setItem("lob", lob);
        localStorage.setItem("productCode", productCode);
        localStorage.setItem("product", productName);

        // Redirect to proposal page
        window.location.href = "application-form.html";
      }
    </script>
  </body>
</html>
